(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(11);a.n(n).a},,,function(e,t,a){"use strict";var n=a(13);a.n(n).a},function(e,t,a){"use strict";var n=a(14);a.n(n).a},function(e,t,a){"use strict";var n=a(15);a.n(n).a},function(e,t,a){"use strict";var n=a(16);a.n(n).a},function(e,t,a){"use strict";var n=a(17);a.n(n).a},function(e,t,a){"use strict";var n=a(18);a.n(n).a},function(e,t,a){"use strict";var n=a(19);a.n(n).a},function(e,t,a){"use strict";var n=a(20);a.n(n).a},function(e,t,a){"use strict";var n=a(21);a.n(n).a},function(e,t,a){"use strict";var n=a(22);a.n(n).a},function(e,t,a){"use strict";var n=a(23);a.n(n).a},,,function(e,t,a){"use strict";a.r(t);var n=a(3),s={name:"App"},i=(a(60),a(0)),r=Object(i.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"vue-backend-app"}},[t("router-view")],1)}),[],!1,null,null,null).exports,o=a(26),l=a(2),c=(a(4),a(6)),m=a.n(c);const d=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";async function u(e){return await b({method:"delete",url:d+"events",data:{ids:e}})}async function p(e){return await b({method:"get",url:`${d}events/${e}`})}async function h(e){return await b({method:"delete",url:d+"speakers",data:{ids:e}})}async function v(e){return await b({method:"delete",url:d+"tags",data:{ids:e}})}async function _(e){return await b({method:"delete",url:d+"sessions",data:{ids:e}})}async function f(e){return await b({method:"delete",url:d+"registrations",data:{ids:e}})}async function g(e){return(await b({method:"get",url:d+"seminars",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id),number:null!==e.number?parseInt(e.number):e.number,slot_max:null!==e.slot_max?parseInt(e.slot_max):e.slot_max}))}async function w(e){return await b({method:"delete",url:d+"seminars",data:{ids:e}})}async function b(e){try{return(await m()(e)).data}catch(e){return console.error(e),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}m.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null;var k={name:"Events",components:{ListTable:l.a},data:()=>({items:[],per_page:20,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Event"},id:{label:"ID"},contact_mail:{label:"Kontakt"},created:{label:"Erstellt am"},default_slot_max:{label:"max. Teilnehmer je Seminar"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}),created(){this.loadItems()},methods:{async loadItems(){const e=await async function(){return(await b({method:"get",url:d+"events"})).map(e=>({...e,id:parseInt(e.id),default_slot_max:parseInt(e.default_slot_max)}))}();e.error?alert(e.error):(this.items=e,this.per_page=this.items.length)},async onActionClick(e,t){if("delete"===e){if(confirm("Event "+t.name+" wirklich löschen? Dabei werden ALLE zugehörigen Daten (Seminar, Anmeldungen usw.) gelöscht!")){const e=await u([t.id]);e.error?alert(e.error):(this.loadItems(),alert(t.name+" gelöscht!"))}}else"edit"===e&&this.$router.push({path:`/${t.id}/edit-event`})},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Events wirklich löschen? Dabei werden ALLE zugehörigen Daten (Seminar, Anmeldungen usw.) gelöscht!")){const e=await u(t);e.error?alert(e.error):(this.loadItems(),alert(e.success))}}}},y=(a(63),Object(i.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"events"},[a("div",[a("h1",{staticClass:"events__headline"},[e._v("Events")]),e._v(" "),a("router-link",{staticClass:"page-title-action",attrs:{to:"/new-event"}},[e._v("\n      Neues Event erstellen\n    ")])],1),e._v(" "),a("list-table",{attrs:{rows:e.items,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick}})],1)}),[],!1,null,"6388c5f1",null).exports),S={name:"EditEventForm",props:{buttonText:{type:String,default:"Speichern"},event:{type:Object,default:()=>({name:"",contact_mail:"",default_slot_max:25,additional_params:""})}},data(){return{newEvent:{name:this.event.name,contact_mail:this.event.contact_mail,default_slot_max:this.event.default_slot_max,additional_params:this.event.additional_params}}},methods:{submit(e){e.preventDefault(),this.$emit("event-submit",this.newEvent)}}},E=(a(64),Object(i.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"edit-event-form",on:{submit:e.submit}},[a("table",{staticClass:"form-table",attrs:{role:"presentation"}},[a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Name*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.name,expression:"newEvent.name"}],attrs:{id:"crep-name",required:"",type:"text"},domProps:{value:e.newEvent.name},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"name",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Kontakt*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.contact_mail,expression:"newEvent.contact_mail"}],attrs:{id:"crep-contact",required:"",type:"text"},domProps:{value:e.newEvent.contact_mail},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"contact_mail",t.target.value)}}}),e._v(" "),a("p",{staticClass:"description"},[e._v("\n          E-Mail-Adressen der Organisatoren. Diese Personen werden bei einer\n          Registrierung benachrichtigt. Mehrere Adressen können mit Komma\n          getrennt eingegeben werden.\n        ")])])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("max. Teilnehmer je Seminar")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.default_slot_max,expression:"newEvent.default_slot_max"}],staticClass:"edit-event-form__number-field",attrs:{id:"crep-contact",type:"number"},domProps:{value:e.newEvent.default_slot_max},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"default_slot_max",t.target.value)}}}),e._v(" "),a("p",{staticClass:"description"},[e._v("\n          Die Anzahl kann später pro Seminar geändert werden. Wenn es kein\n          Teilnehmer-Limit geben soll, bitte 0 eintragen.\n        ")])])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Weitere Felder")]),e._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.additional_params,expression:"newEvent.additional_params"}],domProps:{value:e.newEvent.additional_params},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"additional_params",t.target.value)}}}),e._v(" "),a("p",{staticClass:"description"},[e._v("\n          Zusätzliche Felder für das Anmeldeformular können hier im JSON\n          Format eingetragen werden. Nur ändern, wenn man weiß, was man tut :)\n        ")])])])]),e._v(" "),e._m(0),e._v(" "),a("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"7f2ff3ea",null).exports),$={name:"NewEvent",components:{EditEventForm:E},methods:{async createEvent(e){const t=await async function(e){return await b({method:"post",url:d+"events",data:e})}(e);t.error?alert(t.error):(alert(`Event ${e.name} wurde angelegt!`),this.$router.push("/"))}}},x=Object(i.a)($,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neues Event erstellen")]),this._v(" "),t("edit-event-form",{attrs:{"button-text":"Neues Event erstellen"},on:{"event-submit":this.createEvent}})],1)}),[],!1,null,null,null).exports,C={name:"TagEditor",components:{ListTable:l.a},props:{tagsPreloaded:{type:Array,default:()=>[]},event_id:{type:Number,required:!0}},data(){return{newTag:{name:"",event_id:this.event_id},tags:this.tagsPreloaded.map(e=>({...e,editing:!1})),per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Name"},count:{label:"Anzahl Seminare"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created(){this.tags.length||this.loadTags()},methods:{async loadTags(){const e=await async function(e){return(await b({method:"get",url:d+"tags",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id)}))}(this.event_id);e.error?alert(e.error):(this.tags=e.map(e=>({...e,editing:!1})),this.per_page=this.tags.length,this.$emit("update-event-data"))},async submit(e){e.preventDefault();const t=await async function(e){return await b({method:"post",url:d+"tags",data:e})}(this.newTag);t.error?alert(t.error):(alert(`Schlagwort ${this.newTag.name} wurde angelegt!`),this.newTag.name="",this.loadTags())},async onActionClick(e,t){if("delete"===e){if(confirm("Schlagwort "+t.name+" wirklich löschen?")){const e=await v([t.id]);e.error?alert(e.error):(this.loadTags(),alert(t.name+" gelöscht!"))}}else"edit"===e&&(t.editing=!0)},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Schlagwörter wirklich löschen?")){const e=await v(t);e.error?alert(e.error):(this.loadTags(),alert(e.success))}},async submitUpdate(e,t){e.preventDefault();const a=await async function(e){return await b({method:"put",url:`${d}tags/${e.id}`,data:e})}(t);a.error?alert(a.error):this.loadTags()}}},N=(a(65),Object(i.a)(C,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-editor"},[a("h1",[e._v("Schlagwörter")]),e._v(" "),a("div",{staticClass:"wp-clearfix",attrs:{id:"col-container"}},[a("div",{attrs:{id:"col-left"}},[a("div",{staticClass:"col-wrap"},[a("h2",[e._v("Neues Schlagwort erstellen")]),e._v(" "),a("form",{staticClass:"edit-tag-form form-wrap",on:{submit:e.submit}},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"crep-tag-name"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newTag.name,expression:"newTag.name"}],attrs:{id:"crep-tag-name",type:"text"},domProps:{value:e.newTag.name},on:{input:function(t){t.target.composing||e.$set(e.newTag,"name",t.target.value)}}})]),e._v(" "),e._m(0)])])]),e._v(" "),a("div",{attrs:{id:"col-right"}},[a("div",{staticClass:"col-wrap"},[a("list-table",{attrs:{rows:e.tags,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick},scopedSlots:e._u([{key:"name",fn:function(t){return[t.row.editing?a("form",{staticClass:"tag-editor__update-form",on:{submit:function(a){return e.submitUpdate(a,t.row)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"data.row.name"}],attrs:{type:"text",required:""},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||e.$set(t.row,"name",a.target.value)}}}),e._v(" "),a("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n                Speichern\n              ")])]):a("div",[e._v(e._s(t.row.name))])]}}])})],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"submit"},[t("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[this._v("\n              Neues Schlagwort erstellen\n            ")])])}],!1,null,"3e92a8a0",null).exports),A={name:"SessionEditor",components:{ListTable:l.a},props:{sessionsPreloaded:{type:Array,default:()=>[]},event_id:{type:Number,required:!0}},data(){return{newSession:{name:"",event_id:this.event_id},sessions:this.sessionsPreloaded.map(e=>({...e,editing:!1})),per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Name"},count:{label:"Anzahl Seminare"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created(){this.sessions.length||this.loadSessions()},methods:{async loadSessions(){const e=await async function(e){return(await b({method:"get",url:d+"sessions",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id)}))}(this.event_id);e.error?alert(e.error):(this.sessions=e.map(e=>({...e,editing:!1})),this.per_page=this.sessions.length,this.$emit("update-event-data"))},async submit(e){e.preventDefault();const t=await async function(e){return await b({method:"post",url:d+"sessions",data:e})}(this.newSession);t.error?alert(t.error):(alert(`Session ${this.newSession.name} wurde angelegt!`),this.newSession.name="",this.loadSessions())},async onActionClick(e,t){if("delete"===e){if(confirm("Session "+t.name+" wirklich löschen?")){const e=await _([t.id]);e.error?alert(e.error):(this.loadSessions(),alert(t.name+" gelöscht!"))}}else"edit"===e&&(t.editing=!0)},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Sessions wirklich löschen?")){const e=await _(t);e.error?alert(e.error):(this.loadSessions(),alert(e.success))}},async submitUpdate(e,t){e.preventDefault();const a=await async function(e){return await b({method:"put",url:`${d}sessions/${e.id}`,data:e})}(t);a.error?alert(a.error):this.loadSessions()}}},R=(a(66),Object(i.a)(A,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"session-editor"},[a("h1",[e._v("Sessions")]),e._v(" "),a("div",{staticClass:"wp-clearfix",attrs:{id:"col-container"}},[a("div",{attrs:{id:"col-left"}},[a("div",{staticClass:"col-wrap"},[a("h2",[e._v("Neue Session erstellen")]),e._v(" "),a("form",{staticClass:"edit-session-form form-wrap",on:{submit:e.submit}},[a("div",{staticClass:"form-field"},[a("label",{attrs:{for:"crep-session-name"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSession.name,expression:"newSession.name"}],attrs:{id:"crep-session-name",type:"text"},domProps:{value:e.newSession.name},on:{input:function(t){t.target.composing||e.$set(e.newSession,"name",t.target.value)}}})]),e._v(" "),e._m(0)])])]),e._v(" "),a("div",{attrs:{id:"col-right"}},[a("div",{staticClass:"col-wrap"},[a("list-table",{attrs:{rows:e.sessions,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick},scopedSlots:e._u([{key:"name",fn:function(t){return[t.row.editing?a("form",{staticClass:"session-editor__update-form",on:{submit:function(a){return e.submitUpdate(a,t.row)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"data.row.name"}],attrs:{type:"text",required:""},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||e.$set(t.row,"name",a.target.value)}}}),e._v(" "),a("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n                Speichern\n              ")])]):a("div",[e._v(e._s(t.row.name))])]}}])})],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"submit"},[t("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[this._v("\n              Neue Session erstellen\n            ")])])}],!1,null,"3458db70",null).exports);function I(e){let t=[];try{t=JSON.parse(e),Array.isArray(t)||(console.error("Input to parseJSONStringArray was not parsed into array correctly!"),t=[])}catch(e){console.error(e)}return t}function T(e){let t={};try{t=JSON.parse(e),!Array.isArray(t)&&t||(console.error("Input to parseJSONStringObject was not parsed into object correctly!"),t={})}catch(e){console.error(e)}return t}function P(e,t){return e&&e.length>t?e.substr(0,t-1)+" ...":e}var O={name:"SeminarEditor",components:{ListTable:l.a},props:{event_id:{type:Number,required:!0},tags:{type:Array,default:()=>[]},sessions:{type:Array,default:()=>[]},speakers:{type:Array,default:()=>[]}},data(){return{newSeminar:{name:"",event_id:this.event_id},seminars:[],tag_map:{},session_map:{},speaker_map:{},per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Name",sortable:!0},number:{label:"Nummer",sortable:!0},description:{label:"Beschreibung"},speakers:{label:"Referenten",sortable:!0},sessions:{label:"Sessions"},registrations:{label:"Anmeldungen"},slot_max:{label:"max. Teilnehmerzahl",sortable:!0},tags:{label:"Schlagwörter",sortable:!0}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}],sortBy:"number",sortOrder:"asc"}},created(){this.speakers.forEach(e=>{this.speaker_map[e.id]=`${e.first_name} ${e.surname}`}),this.tags.forEach(e=>{this.tag_map[e.id]=e.name}),this.sessions.forEach(e=>{this.session_map[e.id]=e.name}),this.loadSeminars()},methods:{async loadSeminars(){const e=await g(this.event_id);e.error?alert(e.error):(this.seminars=e.map(e=>({...e,description:P(e.description,100),sessions:e.session_ids.map(e=>({name:this.session_map[e],id:e})),tags:e.tag_ids.map(e=>this.tag_map[e]),speakers:e.speaker_ids.map(e=>this.speaker_map[e])})),this.per_page=this.seminars.length)},async onActionClick(e,t){if("delete"===e){if(confirm("Seminar "+t.name+" wirklich löschen?")){const e=await w([t.id]);e.error?alert(e.error):(this.loadSeminars(),alert(t.name+" gelöscht!"))}}else"edit"===e&&this.$router.push({path:`/${this.event_id}/edit-seminar/${t.id}`})},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Seminare wirklich löschen?")){const e=await w(t);e.error?alert(e.error):(this.loadSeminars(),alert(e.success))}},sortCallback(e,t){this.sortBy=e,this.sortOrder=t,this.seminars.sort((function(a,n){return a[e]<n[e]?"asc"===t?-1:1:a[e]>n[e]?"asc"===t?1:-1:0}))}}},B=(a(67),Object(i.a)(O,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seminar-editor"},[a("div",[a("h1",{staticClass:"seminar-editor__headline"},[e._v("Seminare")]),e._v(" "),e.sessions.length?a("router-link",{staticClass:"page-title-action",attrs:{to:"/"+e.event_id+"/new-seminar"}},[e._v("\n      Neues Seminar erstellen\n    ")]):a("em",[e._v("  (Sie müssen zuerst Sessions anlegen, um Seminare erstellen zu\n      können)")])],1),e._v(" "),a("list-table",{attrs:{rows:e.seminars,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,sortBy:e.sortBy,sortOrder:e.sortOrder,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick,sort:e.sortCallback},scopedSlots:e._u([{key:"speakers",fn:function(t){return[a("ul",{staticClass:"seminar-editor__list"},e._l(t.row.speakers,(function(t){return a("li",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),0)]}},{key:"sessions",fn:function(t){return[a("ul",{staticClass:"seminar-editor__list"},e._l(t.row.sessions,(function(t){return a("li",{key:t.id},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)]}},{key:"registrations",fn:function(t){return[a("ul",{staticClass:"seminar-editor__list"},e._l(t.row.sessions,(function(n){return a("li",{key:n.id},[e._v("\n          "+e._s(t.row.registrations[n.id])+"\n        ")])})),0)]}},{key:"tags",fn:function(t){return[a("ul",{staticClass:"seminar-editor__list"},e._l(t.row.tags,(function(t){return a("li",{key:t,staticClass:"seminar-editor__tag"},[e._v("\n          "+e._s(t)+"\n        ")])})),0)]}}])})],1)}),[],!1,null,"8d2eea82",null).exports),F={name:"RegistrationEditor",components:{ListTable:l.a},props:{event_id:{type:Number,required:!0},sessions:{type:Array,default:()=>[]},seminars:{type:Array,default:()=>[]},additionalParams:{type:String,default:"[]"}},data(){return{newRegistration:{name:"",event_id:this.event_id},seminar_map:{},additionalParams_parsed:I(this.additionalParams),registrations:[],per_page:50,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{first_name:{label:"Vorname"},surname:{label:"Nachname"},contact_mail:{label:"E-Mail"},confirmed:{label:"Bestätigt"},registration_date:{label:"Anmeldedatum"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}},created(){this.seminars.forEach(e=>{this.seminar_map[e.id]=e.name}),this.loadRegistrations(),this.sessions.forEach(e=>{this.columns["session_"+e.id]={label:e.name}}),this.additionalParams_parsed.forEach(e=>{this.columns[e.code]={label:e.name}})},methods:{async loadRegistrations(){const e=await async function(e){return(await b({method:"get",url:d+"registrations",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id)}))}(this.event_id);e.error?alert(e.error):(e.forEach(e=>{e.seminars.forEach(t=>{t&&(e["session_"+t.session_id]=this.seminar_map[t.seminar_id])});const t=T(e.additional_params);this.additionalParams_parsed.forEach(a=>{e[a.code]=t[a.code]||""})}),this.registrations=e,this.per_page=this.registrations.length)},async onActionClick(e,t){if("delete"===e){if(confirm(`Anmeldung für ${t.first_name} ${t.surname} wirklich löschen?`)){const e=await f([t.id]);e.error?alert(e.error):(this.loadRegistrations(),alert(`Anmeldung für ${t.first_name} ${t.surname} gelöscht!`))}}else"edit"===e&&this.$router.push({path:`/${this.event_id}/edit-registration/${t.id}`})},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Anmeldungen wirklich löschen?")){const e=await f(t);e.error?alert(e.error):(this.loadRegistrations(),alert(e.success))}}}},L=(a(68),{name:"EditEvent",components:{EditEventForm:E,TagEditor:N,SessionEditor:R,SeminarEditor:B,RegistrationEditor:Object(i.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"registration-editor"},[a("div",[a("h1",{staticClass:"registration-editor__headline"},[e._v("Anmeldungen")]),e._v(" "),e.sessions.length?a("router-link",{staticClass:"page-title-action",attrs:{to:"/"+e.event_id+"/new-registration"}},[e._v("\n      Neue Anmeldung erstellen\n    ")]):a("em",[e._v("  (Sie müssen zuerst Sessions und Seminare anlegen, um Anmeldungen\n      erstellen zu können)")])],1),e._v(" "),a("list-table",{attrs:{rows:e.registrations,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"first_name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick},scopedSlots:e._u([{key:"confirmed",fn:function(t){return[e._v("\n      "+e._s("1"===t.row.confirmed?"Ja":"Nein")+"\n    ")]}}])})],1)}),[],!1,null,"8d5a2dfc",null).exports},data(){return{id:parseInt(this.$route.params.event_id),event:null,activeTab:"seminars"}},created(){this.loadEvent()},methods:{async loadEvent(){this.event=await p(this.id)},async updateEvent(e){e.id=this.id;const t=await async function(e){return await b({method:"put",url:`${d}events/${e.id}`,data:e})}(e);t.error?alert(t.error):(alert(`Event ${e.name} wurde aktualisiert!`),this.$router.push("/"))},changeTab(e,t){e.preventDefault(),this.activeTab=t},refresh(){this.loadEvent()}}}),j=(a(69),Object(i.a)(L,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v(e._s(e.event?e.event.name:"Lade Event-Daten ..."))]),e._v(" "),e.event?[a("edit-event-form",{attrs:{"button-text":"Aktualisieren",event:e.event},on:{"event-submit":e.updateEvent}}),e._v(" "),a("nav",{staticClass:"nav-tab-wrapper wp-clearfix edit-event__nav"},[a("a",{staticClass:"nav-tab",class:["seminars"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"seminars")}}},[e._v("Seminare")]),e._v(" "),a("a",{staticClass:"nav-tab",class:["registrations"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"registrations")}}},[e._v("Anmeldungen")]),e._v(" "),a("a",{staticClass:"nav-tab",class:["sessions"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"sessions")}}},[e._v("Sessions")]),e._v(" "),a("a",{staticClass:"nav-tab",class:["tags"===e.activeTab?"nav-tab-active":""],attrs:{href:"#"},on:{click:function(t){return e.changeTab(t,"tags")}}},[e._v("Schlagwörter")])]),e._v(" "),"seminars"===e.activeTab?a("seminar-editor",{attrs:{tags:e.event.tags,sessions:e.event.sessions,speakers:e.event.speakers,event_id:e.id}}):e._e(),e._v(" "),"registrations"===e.activeTab?a("registration-editor",{attrs:{sessions:e.event.sessions,seminars:e.event.seminars,"additional-params":e.event.additional_params,event_id:e.id},on:{"update-event-data":e.refresh}}):e._e(),e._v(" "),"sessions"===e.activeTab?a("session-editor",{attrs:{"sessions-preloaded":e.event.sessions,event_id:e.id},on:{"update-event-data":e.refresh}}):e._e(),e._v(" "),"tags"===e.activeTab?a("tag-editor",{attrs:{"tags-preloaded":e.event.tags,event_id:e.id},on:{"update-event-data":e.refresh}}):e._e()]:e._e()],2)}),[],!1,null,"f81ccb6a",null).exports),V=a(5),z=a.n(V),D=(a(25),{name:"EditSeminarForm",components:{Multiselect:z.a},props:{buttonText:{type:String,default:"Speichern"},seminarId:{type:Number},eventId:{type:Number,required:!0}},data:()=>({newSeminar:{number:null,name:"",description:"",slot_max:null},event:{sessions:[],tags:[],speakers:[]},sessionsValue:[],sessionsOptions:[],speakersValue:[],speakersOptions:[],tagsValue:[],tagsOptions:[]}),async created(){let e=null;this.seminarId&&(e=await async function(e){return await b({method:"get",url:`${d}seminars/${e}`})}(this.$route.params.seminar_id),this.newSeminar.name=e.name,this.newSeminar.number=e.number,this.newSeminar.description=e.description,this.newSeminar.slot_max=e.slot_max),this.event=await p(this.eventId),this.event.sessions.forEach(t=>{this.sessionsOptions.push({name:t.name,code:t.id}),e&&e.session_ids.includes(t.id)&&this.sessionsValue.push({name:t.name,code:t.id})}),this.event.speakers.forEach(t=>{this.speakersOptions.push({name:`${t.first_name} ${t.surname}`,code:t.id}),e&&e.speaker_ids.includes(t.id)&&this.speakersValue.push({name:`${t.first_name} ${t.surname}`,code:t.id})}),this.event.tags.forEach(t=>{this.tagsOptions.push({name:t.name,code:t.id}),e&&e.tag_ids.includes(t.id)&&this.tagsValue.push({name:t.name,code:t.id})})},methods:{submit(e){e.preventDefault(),this.newSeminar.session_ids=this.sessionsValue.map(e=>e.code),this.newSeminar.speaker_ids=this.speakersValue.map(e=>e.code),this.newSeminar.tag_ids=this.tagsValue.map(e=>e.code),this.newSeminar.event_id=this.eventId,this.$emit("seminar-submit",this.newSeminar)}}}),q=(a(70),Object(i.a)(D,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"edit-seminar-form",on:{submit:e.submit}},[a("table",{staticClass:"form-table",attrs:{role:"presentation"}},[a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Nummer")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.number,expression:"newSeminar.number"}],staticClass:"edit-seminar-form__number-field",attrs:{id:"crep-number",type:"number"},domProps:{value:e.newSeminar.number},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"number",t.target.value)}}}),e._v(" "),a("p",{staticClass:"description"},[e._v("\n          Optionaler Wert. Falls angegeben, werden Seminare in der Übersicht\n          danach sortiert.\n        ")])])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Name*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.name,expression:"newSeminar.name"}],attrs:{id:"crep-name",required:"",type:"text"},domProps:{value:e.newSeminar.name},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"name",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Beschreibung")]),e._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.description,expression:"newSeminar.description"}],attrs:{id:"crep-description"},domProps:{value:e.newSeminar.description},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"description",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("max. Teilnehmerzahl")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSeminar.slot_max,expression:"newSeminar.slot_max"}],staticClass:"edit-seminar-form__number-field",attrs:{id:"crep-contact",type:"number"},domProps:{value:e.newSeminar.slot_max},on:{input:function(t){t.target.composing||e.$set(e.newSeminar,"slot_max",t.target.value)}}}),e._v(" "),a("p",{staticClass:"description"},[e._v("\n          Wenn es kein Teilnehmer-Limit geben soll, bitte 0 eintragen. Frei\n          lassen, um den Standardwert des Events zu übernehmen.\n        ")])])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Sessions*")]),e._v(" "),a("td",[a("multiselect",{staticClass:"edit-seminar-form__fullwidth-field",attrs:{"tag-placeholder":"Session nicht gefunden",placeholder:"Suche nach einer Session",selectLabel:"Enter oder Anklicken zum Auswählen",label:"name","track-by":"code",options:e.sessionsOptions,multiple:!0,taggable:!0},model:{value:e.sessionsValue,callback:function(t){e.sessionsValue=t},expression:"sessionsValue"}})],1)]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Referenten")]),e._v(" "),a("td",[a("multiselect",{staticClass:"edit-seminar-form__fullwidth-field",attrs:{"tag-placeholder":"Referent nicht gefunden",placeholder:"Suche nach einem Referenten",selectLabel:"Enter oder Anklicken zum Auswählen",label:"name","track-by":"code",options:e.speakersOptions,multiple:!0,taggable:!0},model:{value:e.speakersValue,callback:function(t){e.speakersValue=t},expression:"speakersValue"}})],1)]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Schlagwörter")]),e._v(" "),a("td",[a("multiselect",{staticClass:"edit-seminar-form__fullwidth-field",attrs:{"tag-placeholder":"Schlagwort nicht gefunden",placeholder:"Suche nach einem Schlagwort",selectLabel:"Enter oder Anklicken zum Auswählen",label:"name","track-by":"code",options:e.tagsOptions,multiple:!0,taggable:!0},model:{value:e.tagsValue,callback:function(t){e.tagsValue=t},expression:"tagsValue"}})],1)])]),e._v(" "),e._m(0),e._v(" "),a("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"184ee855",null).exports),M={name:"NewSeminar",components:{EditSeminarForm:q},data(){return{eventId:parseInt(this.$route.params.event_id)}},methods:{async createSeminar(e){const t=await async function(e){return await b({method:"post",url:d+"seminars",data:e})}(e);t.error?alert(t.error):(alert(`Seminar ${e.name} wurde angelegt!`),this.$router.push({path:`/${this.eventId}/edit-event`}))}}},K=Object(i.a)(M,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neues Seminar erstellen")]),this._v(" "),t("edit-seminar-form",{attrs:{"button-text":"Neues Seminar erstellen","event-id":this.eventId},on:{"seminar-submit":this.createSeminar}})],1)}),[],!1,null,null,null).exports,J={name:"EditSeminar",components:{EditSeminarForm:q},data(){return{id:parseInt(this.$route.params.seminar_id),eventId:parseInt(this.$route.params.event_id)}},methods:{async updateSeminar(e){e.id=this.id;const t=await async function(e){return await b({method:"put",url:`${d}seminars/${e.id}`,data:e})}(e);t.error?(alert(t.error),this.$router.go()):(alert(`Seminar ${e.name} wurde aktualisiert!`),this.$router.push({path:`/${this.eventId}/edit-event`}))}}},G=Object(i.a)(J,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Seminar bearbeiten")]),this._v(" "),t("edit-seminar-form",{attrs:{"button-text":"Aktualisieren","seminar-id":this.id,"event-id":this.eventId},on:{"seminar-submit":this.updateSeminar}})],1)}),[],!1,null,null,null).exports,W={name:"EditRegistrationForm",components:{Multiselect:z.a},props:{buttonText:{type:String,default:"Speichern"},registrationId:{type:Number},eventId:{type:Number,required:!0}},data(){return{newRegistration:{first_name:"",surname:"",contact_mail:"",event_id:this.eventId,additional_params:{}},event:{sessions:[],seminars:[]},seminar_map:{},seminarSelections:[],additionalParamFields:[],seminars:[]}},async created(){let e=null;this.registrationId&&(e=await async function(e){return await b({method:"get",url:`${d}registrations/${e}`})}(this.$route.params.registration_id),this.newRegistration.first_name=e.first_name,this.newRegistration.surname=e.surname,this.newRegistration.contact_mail=e.contact_mail,this.newRegistration.additional_params=T(e.additional_params)),this.event=await p(this.eventId),this.seminars=await g(this.eventId),this.seminars.forEach(e=>{this.seminar_map[e.id]=e}),this.event.sessions.forEach(t=>{const a={label:t.name,id:t.id,value:{},options:[]};t.seminar_ids.forEach(e=>{a.options.push({code:e,name:this.seminar_map[e].name,$isDisabled:this.seminar_map[e].slot_max<=this.seminar_map[e].registrations[t.id]})}),e&&e.seminars&&e.seminars.forEach(e=>{e.session_id===t.id&&(a.value={code:e.seminar_id,name:this.seminar_map[e.seminar_id].name})}),this.seminarSelections.push(a)}),this.additionalParamFields=I(this.event.additional_params),this.additionalParamFields.forEach(e=>{Object.keys(this.newRegistration.additional_params).includes(e.code)||(this.newRegistration.additional_params[e.code]="")})},methods:{submit(e){e.preventDefault(),this.newRegistration.seminars=[],this.seminarSelections.forEach(e=>{e.value&&e.value.code&&this.newRegistration.seminars.push({session_id:e.id,seminar_id:e.value.code})}),this.newRegistration.additional_params=JSON.stringify(this.newRegistration.additional_params),this.$emit("registration-submit",this.newRegistration)}}},U=(a(71),Object(i.a)(W,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"edit-registration-form",on:{submit:e.submit}},[a("h2",[e._v("Persönliche Daten")]),e._v(" "),a("table",{staticClass:"form-table",attrs:{role:"presentation"}},[a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Vorname*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.first_name,expression:"newRegistration.first_name"}],attrs:{required:"",type:"text"},domProps:{value:e.newRegistration.first_name},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"first_name",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Nachname*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.surname,expression:"newRegistration.surname"}],attrs:{required:"",type:"text"},domProps:{value:e.newRegistration.surname},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"surname",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("E-Mail")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.contact_mail,expression:"newRegistration.contact_mail"}],attrs:{type:"email"},domProps:{value:e.newRegistration.contact_mail},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"contact_mail",t.target.value)}}})])])]),e._v(" "),a("h2",[e._v("Seminare auswählen")]),e._v(" "),a("table",{staticClass:"form-table",attrs:{role:"presentation"}},e._l(e.seminarSelections,(function(t){return a("tr",{key:t.id,staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v(e._s(t.label))]),e._v(" "),a("td",[a("multiselect",{staticClass:"edit-registration-form__fullwidth-field",attrs:{placeholder:"Suche nach einem Seminar",selectLabel:"Enter oder Anklicken zum Auswählen",label:"name","track-by":"code",options:t.options},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"session.value"}},[a("template",{slot:"noOptions"},[e._v("Keine Einträge.")])],2)],1)])})),0),e._v(" "),e.additionalParamFields.length?[a("h2",[e._v("Sonstiges")]),e._v(" "),a("table",{staticClass:"form-table",attrs:{role:"presentation"}},e._l(e.additionalParamFields,(function(t){return a("tr",{key:t.code,staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v(e._s(t.name+(t.required?"*":"")))]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.additional_params[t.code],expression:"newRegistration.additional_params[param.code]"}],attrs:{type:"text",required:t.required},domProps:{value:e.newRegistration.additional_params[t.code]},on:{input:function(a){a.target.composing||e.$set(e.newRegistration.additional_params,t.code,a.target.value)}}})])])})),0)]:e._e(),e._v(" "),e._m(0),e._v(" "),a("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"9d9239b2",null).exports),Q={name:"NewRegistration",components:{EditRegistrationForm:U},data(){return{eventId:parseInt(this.$route.params.event_id)}},methods:{async createRegistration(e){e.confirmed=1;const t=await async function(e){return await b({method:"post",url:d+"registrations",data:e})}(e);t.error?alert(t.error):(alert(`Anmeldung für ${e.first_name} ${e.surname} wurde angelegt!`),this.$router.push({path:`/${this.eventId}/edit-event`}))}}},X=Object(i.a)(Q,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neue Anmeldung erstellen")]),this._v(" "),t("edit-registration-form",{attrs:{"button-text":"Neue Anmeldung erstellen","event-id":this.eventId},on:{"registration-submit":this.createRegistration}})],1)}),[],!1,null,null,null).exports,Z={name:"EditRegistration",components:{EditRegistrationForm:U},data(){return{id:parseInt(this.$route.params.registration_id),eventId:parseInt(this.$route.params.event_id)}},methods:{async updateRegistration(e){e.id=this.id,e.confirmed=1;const t=await async function(e){return await b({method:"put",url:`${d}registrations/${e.id}`,data:e})}(e);t.error?alert(t.error):(alert(`Anmeldung für ${e.first_name} ${e.surname} wurde aktualisiert!`),this.$router.push({path:`/${this.eventId}/edit-event`}))}}},H=Object(i.a)(Z,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Anmeldung bearbeiten")]),this._v(" "),t("edit-registration-form",{attrs:{"button-text":"Aktualisieren","registration-id":this.id,"event-id":this.eventId},on:{"registration-submit":this.updateRegistration}})],1)}),[],!1,null,null,null).exports,Y={name:"Speakers",components:{ListTable:l.a},data:()=>({speakers:[],per_page:20,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{first_name:{label:"Vorname"},surname:{label:"Nachname"},location:{label:"Ort"},description:{label:"Beschreibung"},path_to_picture:{label:"Bild"}},actions:[{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}),created(){this.loadItems()},methods:{async loadItems(){const e=await async function(){return(await b({method:"get",url:d+"speakers"})).map(e=>({...e,id:parseInt(e.id)}))}();e.error?alert(e.error):(this.speakers=e.map(e=>({...e,description:P(e.description,100)})),this.per_page=this.speakers.length)},async onActionClick(e,t){if("delete"===e){if(confirm(t.first_name+" "+t.surname+" wirklich löschen?")){const e=await h([t.id]);e.error?alert(e.error):(this.loadItems(),alert(t.first_name+" "+t.surname+" gelöscht!"))}}else"edit"===e&&this.$router.push({path:"/edit-speaker/"+t.id})},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Referenten wirklich löschen?")){const e=await h(t);e.error?alert(e.error):(this.loadItems(),alert(e.success))}}}},ee=(a(72),Object(i.a)(Y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"speakers"},[a("div",[a("h1",{staticClass:"speakers__headline"},[e._v("Referenten")]),e._v(" "),a("router-link",{staticClass:"page-title-action",attrs:{to:"/new-speaker"}},[e._v("\n      Neuen Referent anlegen\n    ")])],1),e._v(" "),a("list-table",{attrs:{rows:e.speakers,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"first_name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick}})],1)}),[],!1,null,"1afca12d",null).exports),te={name:"EditSpeakerForm",props:{buttonText:{type:String,default:"Speichern"},speaker:{type:Object,default:()=>({first_name:"",surname:"",location:"",description:"",path_to_picture:""})}},data(){return{newSpeaker:{first_name:this.speaker.first_name,surname:this.speaker.surname,location:this.speaker.location,description:this.speaker.description,path_to_picture:this.speaker.path_to_picture}}},methods:{submit(e){e.preventDefault(),this.$emit("speaker-submit",this.newSpeaker)}}},ae=(a(73),Object(i.a)(te,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"edit-speaker-form",on:{submit:e.submit}},[a("table",{staticClass:"form-table",attrs:{role:"presentation"}},[a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Vorname*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.first_name,expression:"newSpeaker.first_name"}],attrs:{id:"crep-first_name",required:"",type:"text"},domProps:{value:e.newSpeaker.first_name},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"first_name",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Nachname*")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.surname,expression:"newSpeaker.surname"}],attrs:{id:"crep-surname",required:"",type:"text"},domProps:{value:e.newSpeaker.surname},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"surname",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Ort")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.location,expression:"newSpeaker.location"}],attrs:{id:"crep-location",type:"text"},domProps:{value:e.newSpeaker.location},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"location",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Beschreibung")]),e._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.description,expression:"newSpeaker.description"}],attrs:{id:"crep-description"},domProps:{value:e.newSpeaker.description},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"description",t.target.value)}}})])]),e._v(" "),a("tr",{staticClass:"form-field"},[a("th",{attrs:{scope:"row"}},[e._v("Pfad zum Bild")]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newSpeaker.path_to_picture,expression:"newSpeaker.path_to_picture"}],attrs:{id:"crep-path_to_picture",type:"text"},domProps:{value:e.newSpeaker.path_to_picture},on:{input:function(t){t.target.composing||e.$set(e.newSpeaker,"path_to_picture",t.target.value)}}})])])]),e._v(" "),e._m(0),e._v(" "),a("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("* = Pflichtfeld")])])}],!1,null,"7d9dcf89",null).exports),ne={name:"NewSpeaker",components:{EditSpeakerForm:ae},methods:{async createSpeaker(e){const t=await async function(e){return await b({method:"post",url:d+"speakers",data:e})}(e);t.error?alert(t.error):(alert(` ${e.first_name} ${e.surname} wurde angelegt!`),this.$router.push("/speakers"))}}},se=Object(i.a)(ne,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Neuen Referenten erstellen")]),this._v(" "),t("edit-speaker-form",{attrs:{"button-text":"Neuen Referenten erstellen"},on:{"speaker-submit":this.createSpeaker}})],1)}),[],!1,null,null,null).exports,ie={name:"EditSpeaker",components:{EditSpeakerForm:ae},data(){return{id:parseInt(this.$route.params.speaker_id),speaker:null}},async created(){this.speaker=await async function(e){return await b({method:"get",url:`${d}speakers/${e}`})}(this.id)},methods:{async updateSpeaker(e){e.id=this.id;const t=await async function(e){return await b({method:"put",url:`${d}speakers/${e.id}`,data:e})}(e);t.error?alert(t.error):(alert(`${e.first_name} ${e.surname} wurde aktualisiert!`),this.$router.push("/speakers"))}}},re=Object(i.a)(ie,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Referent bearbeiten")]),this._v(" "),this.speaker?t("edit-speaker-form",{attrs:{"button-text":"Aktualisieren",speaker:this.speaker},on:{"speaker-submit":this.updateSpeaker}}):this._e()],1)}),[],!1,null,null,null).exports;n.a.use(o.a);var oe=new o.a({routes:[{path:"/new-event",name:"NewEvent",component:x},{path:"/:event_id/edit-event",name:"EditEvent",component:j},{path:"/:event_id/new-seminar",name:"NewSeminar",component:K},{path:"/:event_id/edit-seminar/:seminar_id",name:"EditSeminar",component:G},{path:"/:event_id/new-registration",name:"NewRegistration",component:X},{path:"/:event_id/edit-registration/:registration_id",name:"EditRegistration",component:H},{path:"/new-speaker",name:"NewSpeaker",component:se},{path:"/edit-speaker/:speaker_id",name:"EditSpeaker",component:re},{path:"/speakers",name:"Speakers",component:ee},{path:"/",name:"Events",component:y}]});var le=function(e){var t=jQuery;let a=t("#toplevel_page_"+e),n=window.location.href,s=n.substr(n.indexOf("admin.php"));a.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",a).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",a).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",a).each((function(e,a){t(a).attr("href")!==s||t(a).parent().addClass("current")}))};n.a.config.productionTip=!1,new n.a({el:"#vue-admin-app",router:oe,render:e=>e(r)}),le("vue-app")}],[[76,0,1]]]);