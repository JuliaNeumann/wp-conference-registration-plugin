(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{45:function(e,t,n){"use strict";n.r(t);var a=n(2),r={name:"App"},s=n(1),l=Object(s.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"vue-backend-app"}},[t("router-view")],1)}),[],!1,null,null,null).exports,i=n(3),c=n(19),o=(n(24),n(7)),u=n.n(o);const d=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";async function m(e){return await p({method:"delete",url:d+"events",data:{ids:e}})}async function p(e){try{return(await u()(e)).data}catch(e){return console.error(e),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}u.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null;var h={name:"Events",components:{ListTable:c.a},data:()=>({items:[],per_page:20,text:{select_bulk_action:"Mehrfachaktionen auswählen",bulk_actions:"Mehrfachaktionen",items:"Einträge",apply:"Übernehmen"},columns:{name:{label:"Event"},contact_mail:{label:"Kontakt"},created:{label:"Erstellt am"},default_slot_max:{label:"max. Teilnehmer je Seminar"}},actions:[{key:"seminars",label:"Seminare"},{key:"edit",label:"Bearbeiten"},{key:"delete",label:"Löschen"}],bulk_actions:[{key:"delete",label:"Löschen"}]}),created(){this.loadItems()},methods:{async loadItems(){const e=await async function(){return await p({method:"get",url:d+"events"})}();e.error?alert(e.error):(this.items=e,this.per_page=this.items.length)},async onActionClick(e,t){if("delete"===e&&confirm("Event "+t.name+" wirklich löschen?")){const e=await m([t.id]);e.error?alert(e.error):(this.loadItems(),alert(t.name+" gelöscht!"))}},async onBulkActionClick(e,t){if("delete"===e&&confirm("Gewählte Events wirklich löschen?")){const e=await m(t);e.error?alert(e.error):(this.loadItems(),alert(e.success))}}}},w=Object(s.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"events"},[n("h1",[e._v("Events")]),e._v(" "),n("list-table",{attrs:{rows:e.items,perPage:e.per_page,text:e.text,columns:e.columns,actions:e.actions,"bulk-actions":e.bulk_actions,"action-column":"name",notFound:"Keine Einträge gefunden"},on:{"action:click":e.onActionClick,"bulk:click":e.onBulkActionClick}})],1)}),[],!1,null,"78aa59e3",null).exports;a.a.use(i.a);var v=new i.a({routes:[{path:"/",name:"Events",component:w}]});var b=function(e){var t=jQuery;let n=t("#toplevel_page_"+e),a=window.location.href,r=a.substr(a.indexOf("admin.php"));n.on("click","a",(function(){var e=t(this);t("ul.wp-submenu li",n).removeClass("current"),e.hasClass("wp-has-submenu")?t("li.wp-first-item",n).addClass("current"):e.parents("li").addClass("current")})),t("ul.wp-submenu a",n).each((function(e,n){t(n).attr("href")!==r||t(n).parent().addClass("current")}))};a.a.config.productionTip=!1,new a.a({el:"#vue-admin-app",router:v,render:e=>e(l)}),b("vue-app")}},[[45,0,1]]]);