(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{0:function(e,t,n){"use strict";n.d(t,"n",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"w",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"u",(function(){return l})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"A",(function(){return _})),n.d(t,"t",(function(){return f})),n.d(t,"v",(function(){return v})),n.d(t,"l",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"B",(function(){return w})),n.d(t,"s",(function(){return y})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return k})),n.d(t,"z",(function(){return $})),n.d(t,"p",(function(){return I})),n.d(t,"h",(function(){return C})),n.d(t,"b",(function(){return R})),n.d(t,"x",(function(){return S})),n.d(t,"o",(function(){return E})),n.d(t,"r",(function(){return N})),n.d(t,"i",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"y",(function(){return A})),n.d(t,"q",(function(){return B}));var a=n(4),r=n.n(a);const i=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";async function s(){return(await F({method:"get",url:i+"events"})).map(e=>({...e,id:parseInt(e.id),default_slot_max:parseInt(e.default_slot_max)}))}async function o(e){return await F({method:"delete",url:i+"events",data:{ids:e}})}async function c(e){return await F({method:"post",url:i+"events",data:e})}async function u(e){return await F({method:"put",url:`${i}events/${e.id}`,data:e})}async function d(e){return await F({method:"get",url:`${i}events/${e}`})}async function l(){return(await F({method:"get",url:i+"speakers"})).map(e=>({...e,id:parseInt(e.id)}))}async function m(e){return await F({method:"delete",url:i+"speakers",data:{ids:e}})}async function p(e){return await F({method:"post",url:i+"speakers",data:e})}async function _(e){return await F({method:"put",url:`${i}speakers/${e.id}`,data:e})}async function f(e){return await F({method:"get",url:`${i}speakers/${e}`})}async function v(e){return(await F({method:"get",url:i+"tags",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id)}))}async function g(e){return await F({method:"delete",url:i+"tags",data:{ids:e}})}async function h(e){return await F({method:"post",url:i+"tags",data:e})}async function w(e){return await F({method:"put",url:`${i}tags/${e.id}`,data:e})}async function y(e){return(await F({method:"get",url:i+"sessions",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id)}))}async function b(e){return await F({method:"delete",url:i+"sessions",data:{ids:e}})}async function k(e){return await F({method:"post",url:i+"sessions",data:e})}async function $(e){return await F({method:"put",url:`${i}sessions/${e.id}`,data:e})}async function I(e){return(await F({method:"get",url:i+"registrations",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id)}))}async function C(e){return await F({method:"delete",url:i+"registrations",data:{ids:e}})}async function R(e){return await F({method:"post",url:i+"registrations",data:e})}async function S(e){return await F({method:"put",url:`${i}registrations/${e.id}`,data:e})}async function E(e){return await F({method:"get",url:`${i}registrations/${e}`})}async function N(e){return(await F({method:"get",url:i+"seminars",params:{event_id:e}})).map(e=>({...e,id:parseInt(e.id),event_id:parseInt(e.event_id),number:parseInt(e.number)}))}async function x(e){return await F({method:"delete",url:i+"seminars",data:{ids:e}})}async function P(e){return await F({method:"post",url:i+"seminars",data:e})}async function A(e){return await F({method:"put",url:`${i}seminars/${e.id}`,data:e})}async function B(e){return await F({method:"get",url:`${i}seminars/${e}`})}async function F(e){try{return(await r()(e)).data}catch(e){return console.error(e),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}r.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null},10:function(e,t,n){},11:function(e,t,n){},56:function(e,t,n){"use strict";var a=n(9);n.n(a).a},57:function(e,t,n){"use strict";var a=n(10);n.n(a).a},58:function(e,t,n){"use strict";var a=n(11);n.n(a).a},78:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),i={name:"SeminarList",props:{eventId:{type:Number,required:!0}},data:()=>({event:{},seminars:[],session_map:{},speaker_map:{},tag_map:{}}),async created(){this.event=await Object(r.m)(this.eventId),this.seminars=await Object(r.r)(this.eventId),this.seminars.sort(this.compareSeminarByNumber),this.event.sessions.forEach(e=>{this.session_map[e.id]=e.name}),this.event.speakers.forEach(e=>{this.speaker_map[e.id]=e}),this.event.tags.forEach(e=>{this.tag_map[e.id]=e.name})},methods:{getSessions(e){let t="";return e.forEach(e=>{t+=this.session_map[e]+" | "}),t.slice(0,-3)},getSpeakers(e){let t="";return e.forEach(e=>{const n=this.speaker_map[e];t+=`${n.first_name} ${n.surname}, ${n.location} & `}),t.slice(0,-3)},compareSeminarByNumber(e,t){let n=parseInt(e.number),a=parseInt(t.number);return n<a?-1:n>a?1:0}}},s=(n(56),n(1)),o=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"crep-seminar-list"}},e._l(e.seminars,(function(t){return n("div",{key:t.id,staticClass:"crep-seminar"},[t.number?n("div",{staticClass:"crep-seminar__number"},[e._v("\n      "+e._s(t.number.padStart(2,"0"))+"\n    ")]):e._e(),e._v(" "),n("div",[n("h4",{staticClass:"crep-seminar__name"},[e._v(e._s(t.name))]),e._v(" "),n("small",{staticClass:"crep-seminar__sessions"},[e._v(e._s(e.getSessions(t.session_ids)))]),e._v(" "),n("p",{staticClass:"crep-seminar__description"},[e._v(e._s(t.description))]),e._v(" "),n("small",{staticClass:"crep-seminar__speakers"},[e._v(e._s(e.getSpeakers(t.speaker_ids)))]),e._v(" "),t.tag_ids.length?n("ul",{staticClass:"crep-seminar__tags"},e._l(t.tag_ids,(function(t){return n("li",{key:t,staticClass:"crep-seminar__tag"},[e._v("\n          "+e._s(e.tag_map[t])+"\n        ")])})),0):e._e()])])})),0)}),[],!1,null,"79839dee",null).exports,c=n(4),u=n.n(c);const d=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";async function l(e){try{return(await u()(e)).data}catch(e){return console.error(e),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}u.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null;var m=n(7),p=n.n(m),_=(n(26),{name:"RegistrationForm",components:{Multiselect:p.a},props:{eventId:{type:Number,required:!0}},data(){return{newRegistration:{first_name:"",surname:"",contact_mail:"",event_id:this.eventId,additional_params:{}},event:{sessions:[],seminars:[]},seminar_map:{},seminarSelections:[],additionalParamFields:[]}},async created(){this.event=await async function(e){return await l({method:"get",url:`${d}events/${e}`})}(this.eventId),this.event.seminars.forEach(e=>{this.seminar_map[e.id]=e.name}),this.event.sessions.forEach(e=>{const t={label:e.name,id:e.id,value:{},options:[]};e.seminar_ids.forEach(e=>{t.options.push({code:e,name:this.seminar_map[e]})}),this.seminarSelections.push(t)}),this.additionalParamFields=function(e){let t=[];try{t=JSON.parse(e),Array.isArray(t)||(console.error("Input to parseJSONStringArray was not parsed into array correctly!"),t=[])}catch(e){console.error(e)}return t}(this.event.additional_params),this.additionalParamFields.forEach(e=>{Object.keys(this.newRegistration.additional_params).includes(e.code)||(this.newRegistration.additional_params[e.code]="")})},methods:{submit(e){e.preventDefault(),this.newRegistration.seminars=[],this.seminarSelections.forEach(e=>{e.value&&e.value.code&&this.newRegistration.seminars.push({session_id:e.id,seminar_id:e.value.code})}),this.newRegistration.additional_params=JSON.stringify(this.newRegistration.additional_params),this.newRegistration.confirmed=0;const t=async function(e){return await l({method:"post",url:d+"registrations",data:e})}(this.newRegistration);alert(t.error?"Beim Senden ist ein Fehler aufgetreten.":"Deine Anmeldung wurde versandt. Du erhälst bald eine Bestätigungsmail. Vielen Dank!")}}}),f=(n(57),n(58),Object(s.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"registration-form",on:{submit:e.submit}},[n("h4",{staticClass:"registration-form__headline"},[e._v("Persönliche Daten:")]),e._v(" "),n("fieldset",{staticClass:"registration-form__set"},[n("label",{staticClass:"registration-form__block registration-form__label",attrs:{for:"crep-first-name"}},[e._v("Vorname:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.first_name,expression:"newRegistration.first_name"}],staticClass:"registration-form__block",attrs:{type:"text",id:"crep-first-name"},domProps:{value:e.newRegistration.first_name},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"first_name",t.target.value)}}}),e._v(" "),n("label",{staticClass:"registration-form__block registration-form__label",attrs:{for:"crep-surname"}},[e._v("Nachname:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.surname,expression:"newRegistration.surname"}],staticClass:"registration-form__block",attrs:{type:"text",id:"crep-surname"},domProps:{value:e.newRegistration.surname},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"surname",t.target.value)}}}),e._v(" "),n("label",{staticClass:"registration-form__block registration-form__label",attrs:{for:"crep-contact_mail"}},[e._v("E-Mail-Adresse:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.contact_mail,expression:"newRegistration.contact_mail"}],staticClass:"registration-form__block",attrs:{type:"email",id:"crep-contact_mail"},domProps:{value:e.newRegistration.contact_mail},on:{input:function(t){t.target.composing||e.$set(e.newRegistration,"contact_mail",t.target.value)}}})]),e._v(" "),n("h4",{staticClass:"registration-form__headline"},[e._v("Seminare auswählen:")]),e._v(" "),n("fieldset",{staticClass:"registration-form__set"},[e._l(e.seminarSelections,(function(t){return[n("label",{key:"label_"+t.id,staticClass:"registration-form__block registration-form__label",attrs:{for:"seminar_"+t.id}},[e._v(e._s(t.label))]),e._v(" "),n("multiselect",{key:t.id,staticClass:"edit-registration-form__fullwidth-field",attrs:{id:"seminar_"+t.id,placeholder:"Suche nach einem Seminar",selectLabel:"Enter oder Anklicken zum Auswählen",label:"name","track-by":"code",options:t.options},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"session.value"}},[n("template",{slot:"noOptions"},[e._v("Keine Einträge.")])],2)]}))],2),e._v(" "),e.additionalParamFields.length?[n("h4",{staticClass:"registration-form__headline"},[e._v("Sonstiges")]),e._v(" "),n("fieldset",{staticClass:"registration-form__set"},[e._l(e.additionalParamFields,(function(t){return[n("label",{key:"label_"+t.code,staticClass:"registration-form__block registration-form__label",attrs:{for:t.code}},[e._v(e._s(t.name))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRegistration.additional_params[t.code],expression:"newRegistration.additional_params[param.code]"}],key:t.code,staticClass:"registration-form__block",attrs:{type:"text"},domProps:{value:e.newRegistration.additional_params[t.code]},on:{input:function(n){n.target.composing||e.$set(e.newRegistration.additional_params,t.code,n.target.value)}}})]}))],2)]:e._e(),e._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[e._v("Anmelden")])],2)}),[],!1,null,"b9eb5ed4",null).exports);a.a.config.productionTip=!1;const v=document.getElementById("crep-seminar-list");v&&new a.a({el:"#crep-seminar-list",render:e=>e(o,{props:{eventId:parseInt(v.dataset.eventId)}})});const g=document.getElementById("crep-registration-form");g&&new a.a({el:"#crep-registration-form",render:e=>e(f,{props:{eventId:parseInt(g.dataset.eventId)}})})},9:function(e,t,n){}},[[78,0,1]]]);