(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{0:function(t,e,n){"use strict";n.d(e,"n",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"w",(function(){return d})),n.d(e,"m",(function(){return u})),n.d(e,"u",(function(){return l})),n.d(e,"k",(function(){return m})),n.d(e,"e",(function(){return _})),n.d(e,"A",(function(){return p})),n.d(e,"t",(function(){return f})),n.d(e,"v",(function(){return v})),n.d(e,"l",(function(){return g})),n.d(e,"f",(function(){return h})),n.d(e,"B",(function(){return w})),n.d(e,"s",(function(){return y})),n.d(e,"j",(function(){return b})),n.d(e,"d",(function(){return k})),n.d(e,"z",(function(){return $})),n.d(e,"p",(function(){return C})),n.d(e,"h",(function(){return I})),n.d(e,"b",(function(){return R})),n.d(e,"x",(function(){return S})),n.d(e,"o",(function(){return E})),n.d(e,"r",(function(){return x})),n.d(e,"i",(function(){return N})),n.d(e,"c",(function(){return P})),n.d(e,"y",(function(){return A})),n.d(e,"q",(function(){return F}));var a=n(4),r=n.n(a);const i=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";async function s(){return(await O({method:"get",url:i+"events"})).map(t=>({...t,id:parseInt(t.id),default_slot_max:parseInt(t.default_slot_max)}))}async function o(t){return await O({method:"delete",url:i+"events",data:{ids:t}})}async function c(t){return await O({method:"post",url:i+"events",data:t})}async function d(t){return await O({method:"put",url:`${i}events/${t.id}`,data:t})}async function u(t){return await O({method:"get",url:`${i}events/${t}`})}async function l(){return(await O({method:"get",url:i+"speakers"})).map(t=>({...t,id:parseInt(t.id)}))}async function m(t){return await O({method:"delete",url:i+"speakers",data:{ids:t}})}async function _(t){return await O({method:"post",url:i+"speakers",data:t})}async function p(t){return await O({method:"put",url:`${i}speakers/${t.id}`,data:t})}async function f(t){return await O({method:"get",url:`${i}speakers/${t}`})}async function v(t){return(await O({method:"get",url:i+"tags",params:{event_id:t}})).map(t=>({...t,id:parseInt(t.id),event_id:parseInt(t.event_id)}))}async function g(t){return await O({method:"delete",url:i+"tags",data:{ids:t}})}async function h(t){return await O({method:"post",url:i+"tags",data:t})}async function w(t){return await O({method:"put",url:`${i}tags/${t.id}`,data:t})}async function y(t){return(await O({method:"get",url:i+"sessions",params:{event_id:t}})).map(t=>({...t,id:parseInt(t.id),event_id:parseInt(t.event_id)}))}async function b(t){return await O({method:"delete",url:i+"sessions",data:{ids:t}})}async function k(t){return await O({method:"post",url:i+"sessions",data:t})}async function $(t){return await O({method:"put",url:`${i}sessions/${t.id}`,data:t})}async function C(t){return(await O({method:"get",url:i+"registrations",params:{event_id:t}})).map(t=>({...t,id:parseInt(t.id),event_id:parseInt(t.event_id)}))}async function I(t){return await O({method:"delete",url:i+"registrations",data:{ids:t}})}async function R(t){return await O({method:"post",url:i+"registrations",data:t})}async function S(t){return await O({method:"put",url:`${i}registrations/${t.id}`,data:t})}async function E(t){return await O({method:"get",url:`${i}registrations/${t}`})}async function x(t){return(await O({method:"get",url:i+"seminars",params:{event_id:t}})).map(t=>({...t,id:parseInt(t.id),event_id:parseInt(t.event_id)}))}async function N(t){return await O({method:"delete",url:i+"seminars",data:{ids:t}})}async function P(t){return await O({method:"post",url:i+"seminars",data:t})}async function A(t){return await O({method:"put",url:`${i}seminars/${t.id}`,data:t})}async function F(t){return await O({method:"get",url:`${i}seminars/${t}`})}async function O(t){try{return(await r()(t)).data}catch(t){return console.error(t),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}r.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null},10:function(t,e,n){},11:function(t,e,n){},56:function(t,e,n){"use strict";var a=n(9);n.n(a).a},57:function(t,e,n){"use strict";var a=n(10);n.n(a).a},58:function(t,e,n){"use strict";var a=n(11);n.n(a).a},78:function(t,e,n){"use strict";n.r(e);var a=n(5),r=n(0),i={name:"SeminarList",props:{eventId:{type:Number,required:!0}},data:()=>({event:{},seminars:[],session_map:{},speaker_map:{},tag_map:{}}),async created(){this.event=await Object(r.m)(this.eventId),this.seminars=await Object(r.r)(this.eventId),this.event.sessions.forEach(t=>{this.session_map[t.id]=t.name}),this.event.speakers.forEach(t=>{this.speaker_map[t.id]=t}),this.event.tags.forEach(t=>{this.tag_map[t.id]=t.name})},methods:{getSessions(t){let e="";return t.forEach(t=>{e+=this.session_map[t]+" | "}),e.slice(0,-3)},getSpeakers(t){let e="";return t.forEach(t=>{const n=this.speaker_map[t];e+=`${n.first_name} ${n.surname}, ${n.location} & `}),e.slice(0,-3)}}},s=(n(56),n(1)),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"crep-seminar-list"}},t._l(t.seminars,(function(e){return n("div",{key:e.id,staticClass:"crep-seminar"},[e.number?n("div",{staticClass:"crep-seminar__number"},[t._v("\n      "+t._s(e.number.padStart(2,"0"))+"\n    ")]):t._e(),t._v(" "),n("div",[n("h4",{staticClass:"crep-seminar__name"},[t._v(t._s(e.name))]),t._v(" "),n("small",{staticClass:"crep-seminar__sessions"},[t._v(t._s(t.getSessions(e.session_ids)))]),t._v(" "),n("p",{staticClass:"crep-seminar__description"},[t._v(t._s(e.description))]),t._v(" "),n("small",{staticClass:"crep-seminar__speakers"},[t._v(t._s(t.getSpeakers(e.speaker_ids)))]),t._v(" "),e.tag_ids.length?n("ul",{staticClass:"crep-seminar__tags"},t._l(e.tag_ids,(function(e){return n("li",{key:e,staticClass:"crep-seminar__tag"},[t._v("\n          "+t._s(t.tag_map[e])+"\n        ")])})),0):t._e()])])})),0)}),[],!1,null,"e673bb0c",null).exports,c=n(4),d=n.n(c);const u=(window.crep?window.crep.rest_url:"http://127.0.0.1:8000/wp-json/")+"crep/v1/";async function l(t){try{return(await d()(t)).data}catch(t){return console.error(t),{error:"Bei der Verbindung zum Server ist ein Fehler aufgetreten! Stelle sicher, dass du als Admin eingeloggt bist und versuche es noch einmal."}}}d.a.defaults.headers.common["X-WP-Nonce"]=window.crep?window.crep.nonce:null;var m=n(7),_=n.n(m),p=(n(26),{name:"RegistrationForm",components:{Multiselect:_.a},props:{eventId:{type:Number,required:!0}},data(){return{newRegistration:{first_name:"",surname:"",contact_mail:"",event_id:this.eventId,additional_params:{}},event:{sessions:[],seminars:[]},seminar_map:{},seminarSelections:[],additionalParamFields:[]}},async created(){this.event=await async function(t){return await l({method:"get",url:`${u}events/${t}`})}(this.eventId),this.event.seminars.forEach(t=>{this.seminar_map[t.id]=t.name}),this.event.sessions.forEach(t=>{const e={label:t.name,id:t.id,value:{},options:[]};t.seminar_ids.forEach(t=>{e.options.push({code:t,name:this.seminar_map[t]})}),this.seminarSelections.push(e)}),this.additionalParamFields=function(t){let e=[];try{e=JSON.parse(t),Array.isArray(e)||(console.error("Input to parseJSONStringArray was not parsed into array correctly!"),e=[])}catch(t){console.error(t)}return e}(this.event.additional_params),this.additionalParamFields.forEach(t=>{Object.keys(this.newRegistration.additional_params).includes(t.code)||(this.newRegistration.additional_params[t.code]="")})},methods:{submit(t){t.preventDefault(),this.newRegistration.seminars=[],this.seminarSelections.forEach(t=>{t.value&&t.value.code&&this.newRegistration.seminars.push({session_id:t.id,seminar_id:t.value.code})}),this.newRegistration.additional_params=JSON.stringify(this.newRegistration.additional_params),this.newRegistration.confirmed=0;const e=async function(t){return await l({method:"post",url:u+"registrations",data:t})}(this.newRegistration);alert(e.error?"Beim Senden ist ein Fehler aufgetreten.":"Deine Anmeldung wurde versandt. Du erhälst bald eine Bestätigungsmail. Vielen Dank!")}}}),f=(n(57),n(58),Object(s.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"registration-form",on:{submit:t.submit}},[n("h4",{staticClass:"registration-form__headline"},[t._v("Persönliche Daten:")]),t._v(" "),n("fieldset",{staticClass:"registration-form__set"},[n("label",{staticClass:"registration-form__block registration-form__label",attrs:{for:"crep-first-name"}},[t._v("Vorname:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newRegistration.first_name,expression:"newRegistration.first_name"}],staticClass:"registration-form__block",attrs:{type:"text",id:"crep-first-name"},domProps:{value:t.newRegistration.first_name},on:{input:function(e){e.target.composing||t.$set(t.newRegistration,"first_name",e.target.value)}}}),t._v(" "),n("label",{staticClass:"registration-form__block registration-form__label",attrs:{for:"crep-surname"}},[t._v("Nachname:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newRegistration.surname,expression:"newRegistration.surname"}],staticClass:"registration-form__block",attrs:{type:"text",id:"crep-surname"},domProps:{value:t.newRegistration.surname},on:{input:function(e){e.target.composing||t.$set(t.newRegistration,"surname",e.target.value)}}}),t._v(" "),n("label",{staticClass:"registration-form__block registration-form__label",attrs:{for:"crep-contact_mail"}},[t._v("E-Mail-Adresse:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newRegistration.contact_mail,expression:"newRegistration.contact_mail"}],staticClass:"registration-form__block",attrs:{type:"email",id:"crep-contact_mail"},domProps:{value:t.newRegistration.contact_mail},on:{input:function(e){e.target.composing||t.$set(t.newRegistration,"contact_mail",e.target.value)}}})]),t._v(" "),n("h4",{staticClass:"registration-form__headline"},[t._v("Seminare auswählen:")]),t._v(" "),n("fieldset",{staticClass:"registration-form__set"},[t._l(t.seminarSelections,(function(e){return[n("label",{key:"label_"+e.id,staticClass:"registration-form__block registration-form__label",attrs:{for:"seminar_"+e.id}},[t._v(t._s(e.label))]),t._v(" "),n("multiselect",{key:e.id,staticClass:"edit-registration-form__fullwidth-field",attrs:{id:"seminar_"+e.id,placeholder:"Suche nach einem Seminar",selectLabel:"Enter oder Anklicken zum Auswählen",label:"name","track-by":"code",options:e.options},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"session.value"}},[n("template",{slot:"noOptions"},[t._v("Keine Einträge.")])],2)]}))],2),t._v(" "),t.additionalParamFields.length?[n("h4",{staticClass:"registration-form__headline"},[t._v("Sonstiges")]),t._v(" "),n("fieldset",{staticClass:"registration-form__set"},[t._l(t.additionalParamFields,(function(e){return[n("label",{key:"label_"+e.code,staticClass:"registration-form__block registration-form__label",attrs:{for:e.code}},[t._v(t._s(e.name))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newRegistration.additional_params[e.code],expression:"newRegistration.additional_params[param.code]"}],key:e.code,staticClass:"registration-form__block",attrs:{type:"text"},domProps:{value:t.newRegistration.additional_params[e.code]},on:{input:function(n){n.target.composing||t.$set(t.newRegistration.additional_params,e.code,n.target.value)}}})]}))],2)]:t._e(),t._v(" "),n("button",{staticClass:"button button-primary",attrs:{type:"submit"}},[t._v("Anmelden")])],2)}),[],!1,null,"b9eb5ed4",null).exports);a.a.config.productionTip=!1;const v=document.getElementById("crep-seminar-list");v&&new a.a({el:"#crep-seminar-list",render:t=>t(o,{props:{eventId:parseInt(v.dataset.eventId)}})});const g=document.getElementById("crep-registration-form");g&&new a.a({el:"#crep-registration-form",render:t=>t(f,{props:{eventId:parseInt(g.dataset.eventId)}})})},9:function(t,e,n){}},[[78,0,1]]]);